<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Fallback meta tags to be updated by JavaScript -->
    <meta
      name="description"
      content="Explore premium products at Manuplast, including various sizes, colors, and features. Shop now!"
    />
    <meta
      name="keywords"
      content="product details, e-commerce, shop online, premium products, durable materials, online shopping"
    />
    <meta name="author" content="manuplast" />
    <meta name="robots" content="index, follow" />
    <meta name="revisit-after" content="7 days" />
    <meta name="language" content="English" />
    <meta
      property="og:title"
      content="Premium Products - Manuplast"
    />
    <meta
      property="og:description"
      content="Explore premium products at Manuplast, including various sizes, colors, and features. Shop now!"
    />
    <meta
      property="og:image"
      content="https://www.manuplast.co/images/logo.png"
    />
    <meta
      property="og:url"
      content="https://www.manuplast.co/type-detail.html"
    />
    <meta property="og:type" content="product" />
    <meta property="og:site_name" content="manuplast" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Premium Products - Manuplast"
    />
    <meta
      name="twitter:description"
      content="Explore premium products at Manuplast, including various sizes, colors, and features. Shop now!"
    />
    <meta
      name="twitter:image"
      content="https://www.manuplast.co/images/logo.png"
    />
    <title>Product Type Details - Manuplast</title>
    <link href="style.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="./images/logo.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Inline script to pre-fetch and update meta tags
      (async () => {
        const params = new URLSearchParams(window.location.search);
        const typeId = params.get("id");
        const categoryId = params.get("category_id");

        if (typeId && categoryId) {
          try {
            const token = localStorage.getItem("token");
            const headers = token ? { Authorization: `Bearer ${token}` } : {};
            const response = await fetch(
              `https://api.vybtek.com/api/manuplast/producttypes/${typeId}`,
              { headers, timeout: 10000 }
            );
            if (response.ok) {
              const product = await response.json();
              const truncateDescription = (desc, maxLength = 160) => {
                if (!desc || typeof desc !== "string")
                  return "Explore our premium product details.";
                const cleanDesc = desc.replace(/\r\n/g, " ").trim();
                if (cleanDesc.length <= maxLength) return cleanDesc;
                const truncated = cleanDesc.substring(0, maxLength);
                return truncated.substring(0, truncated.lastIndexOf(" ")) + "...";
              };

              const descriptionText = truncateDescription(product.description);
              document.title = product.name
                ? `${product.name} - Manuplast`
                : "Product Type Details - Manuplast";

              const metaDescription = document.querySelector(
                'meta[name="description"]'
              );
              if (metaDescription) {
                metaDescription.setAttribute("content", descriptionText);
              }

              const ogTitle = document.querySelector('meta[property="og:title"]');
              if (ogTitle) {
                ogTitle.setAttribute(
                  "content",
                  product.name
                    ? `${product.name} - manuplast`
                    : "Product Type Details - manuplast"
                );
              }
              const ogDescription = document.querySelector(
                'meta[property="og:description"]'
              );
              if (ogDescription) {
                ogDescription.setAttribute("content", descriptionText);
              }
              const ogImage = document.querySelector('meta[property="og:image"]');
              if (ogImage && product.cover_image_url) {
                ogImage.setAttribute("content", product.cover_image_url);
              }
              const ogUrl = document.querySelector('meta[property="og:url"]');
              if (ogUrl) {
                ogUrl.setAttribute("content", window.location.href);
              }

              const twitterTitle = document.querySelector(
                'meta[name="twitter:title"]'
              );
              if (twitterTitle) {
                twitterTitle.setAttribute(
                  "content",
                  product.name
                    ? `${product.name} - manuplast`
                    : "Product Type Details - manuplast"
                );
              }
              const twitterDescription = document.querySelector(
                'meta[name="twitter:description"]'
              );
              if (twitterDescription) {
                twitterDescription.setAttribute("content", descriptionText);
              }
              const twitterImage = document.querySelector(
                'meta[name="twitter:image"]'
              );
              if (twitterImage && product.cover_image_url) {
                twitterImage.setAttribute("content", product.cover_image_url);
              }

              const schemaScript = document.querySelector(
                'script[type="application/ld+json"]'
              );
              if (schemaScript && product.name) {
                const schemaData = {
                  "@context": "https://schema.org",
                  "@type": "Product",
                  name: product.name || "Product Type Details",
                  image:
                    product.cover_image_url ||
                    "https://www.manuplast.co/images/logo.png",
                  description: descriptionText,
                  sku: product.id || "PRODUCT123",
                  mpn: product.id || "MPN123",
                  brand: { "@type": "Brand", name: "manuplast" },
                  offers: {
                    "@type": "Offer",
                    url: window.location.href,
                    priceCurrency: "INR",
                    price: product.price
                      ? parseFloat(product.price.replace(/[^\d.]/g, ""))
                      : "0.00",
                    priceValidUntil: "2026-07-22",
                    availability:
                      product.status === "active"
                        ? "https://schema.org/InStock"
                        : "https://schema.org/OutOfStock",
                    seller: { "@type": "Organization", name: "manuplast" },
                  },
                };
                schemaScript.textContent = JSON.stringify(schemaData, null, 2);
              }
            }
          } catch (error) {
            console.error("Error pre-fetching product data:", error);
          }
        }
      })();
    </script>
    <script src="headerFooter.js"></script>
    <script src="products.js"></script>
    <script defer src="whatsapp.js"></script>
    <style>
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .sticky {
        position: sticky;
        top: 20px;
      }
      .thumbnail:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease;
      }
      .color-swatch:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease;
      }
      .tab-active {
        border-bottom: 2px solid #3b82f6;
        color: #3b82f6;
      }
      @media (max-width: 640px) {
        .related-product-card {
          width: 100%;
          max-width: 300px;
          margin-left: auto;
          margin-right: auto;
        }
        .related-products-grid {
          display: flex;
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Product Type Details",
        "image": "https://www.manuplast.co/images/logo.png",
        "description": "Explore premium products at Manuplast, including various sizes, colors, and features.",
        "sku": "PRODUCT123",
        "mpn": "MPN123",
        "brand": {
          "@type": "Brand",
          "name": "manuplast"
        },
        "offers": {
          "@type": "Offer",
          "url": "https://www.manuplast.co/type-detail.html",
          "priceCurrency": "INR",
          "price": "0.00",
          "priceValidUntil": "2026-07-22",
          "availability": "https://schema.org/InStock",
          "seller": {
            "@type": "Organization",
            "name": "manuplast"
          }
        }
      }
    </script>
  </head>

  <body>
    <!-- Header -->
    <special-header></special-header>

    <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div id="type-detail" class="text-center"></div>
    </section>

    <!-- Footer -->
    <special-footer></special-footer>
  </body>
</html>